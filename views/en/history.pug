extends ../layout

block contenido
  .articulo
    .cabecera
      h2 Past editions
    .encolumnado
      iframe(width="560" height="315" src="https://www.youtube.com/embed/40Wbd_oWD6M" title="CAM16" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)
      div
        h3 2016 - Río Cuarto
        p In 2016, the first CAM took place, with a strong commitment to education and training. Itwas organized at the “National University of Rio Cuarto” (UNRC) with an concurrence of 130 attendees, 15 teachers, 4 nights of shows and 100 hours of artistic training. We had the visit of participants from 15 Argentine provinces. It marked a precedent in the juggler population that had never experienced an event like this.
    .encolumnado
      div
        h3 2017 - Río Cuarto
        p In this edition we kept the same location and we managed to double the number of attendees, reaching 250 people. More than 20 teachers enrolled. We kept the 100 hours of training. Two companies participated with their shows. In addition to receiving conventioneers from our country, we achieved the concurrence of people from 6 Latin American countries and 5 countries from the European continent. Thanks to the impact and management of our first event, we received donations from national and international manufacturers of implements.
      iframe(width="560" height="315" src="https://www.youtube.com/embed/Rl8Hu-ELxq0" title="CAM17" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)
      
    .encolumnado
      iframe(width="560" height="315" src="https://www.youtube.com/embed/WNRHdNiYZ4U" title="CAM19" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)
      div
        h3 2019 - San Francisco
        p This last edition was hosted by the city of San Francisco, more precisely the San Francisco Cultural Center. A format very different from the previous ones was proposed. We decided to address the event to a public in search of deepening new forms and processes related to juggling. We reduced the attendance to a cap of 25 participants to experiment with a format more similar to a retreat. We convened 10 seminarians, 20 artists and a pedagogical schedule of 70 hours. Lecturers and leading artists from Argentina and neighboring countries participated. We managed to maintain close ties in other conventions and the attention of producers who are still betting on the project.

  script(src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js")
  .articulo
    .cabecera
      h2 Fotos
    .galeria
      each lista in galeria
        .columna
          each n in lista
            img(data-src=n+1, src=`/img/galería/${n+1}.webp`, onclick="mostrar(this)")

  #visualizador.desactivado
    #izquierda(onclick="anterior()")
    #cerrar(onclick="cerrar()") X
    img
    #derecha(onclick="proxima()")
    
  script.
    let visualizador = document.querySelector('#visualizador')
    let imagen = document.querySelector('#visualizador img')
    
    let cerrar = () => {
      visualizador.className = 'desactivado'
    }
    let mostrar = (e) => {
      let imgsrc = 
      visualizador.className = "activado"
      imagen.setAttribute('src', e.getAttribute("src"))
      imagen.setAttribute('data-src', e.getAttribute("data-src"))
    }
    let proxima = () => {
      let actual = parseInt(imagen.getAttribute("data-src"))
      let prox = actual < 72 ? actual + 1 : actual
      imagen.setAttribute('data-src', prox)
      imagen.setAttribute('src', `/img/galería/${prox}.jpg`)
    }
    let anterior = () => {
      let actual = parseInt(imagen.getAttribute("data-src"))
      let prox = actual > 1 ? actual - 1 : actual 
      imagen.setAttribute('data-src', prox)
      imagen.setAttribute('src', `/img/galería/${prox}.jpg`)
    }
    document.querySelector('body').addEventListener('keydown', k => {
      if(k.key == "ArrowLeft"){
        anterior()
      }
      if(k.key == "ArrowRight"){
        proxima()
      }
      if(k.key == "Escape"){
        cerrar()
      }
    })
